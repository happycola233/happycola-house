---
title: 硬链接、软连接、快捷方式有什么区别？
date: 2024-07-24 13:10:15
tags:
  - 技术
  - Windows
  - 知识
categories:
  - 技术
description: 这里是一篇关于文件系统链接类型的介绍awa
cover: /img/posts/File_Links_Overview_cover.png
permalink:
---

# 文件系统链接类型介绍

**硬链接**（Hard Link）、**软连接**（Soft Link，也称**符号链接**，Symbolic Link）和**快捷方式**（Shortcut）是文件系统中的三种不同的链接方式，它们在创建方式、使用场景和底层实现上都有所不同。你是否了解他们的不同呢？

### 硬链接（Hard Link）

#### 定义
硬链接是指多个文件名指向同一个文件数据块。每个硬链接都会被视为一个独立的文件，但它们共享相同的数据内容。

#### 特点
1. **共享数据**：硬链接指向相同的物理数据块，因此它们的内容始终保持一致。
2. **同一文件系统**：硬链接只能在同一个文件系统（同一个分区）内创建。
3. **删除影响**：删除其中一个硬链接不会删除文件数据，只有当所有硬链接都被删除后，文件数据才会被释放。
4. **不可区分**：硬链接和原始文件没有区别，都是对文件数据的直接引用。

#### 创建方法
在Windows中可以使用`fsutil`或`mklink`命令来创建硬链接。
```cmd
fsutil hardlink create <new_file> <existing_file>
```

### 软连接（Soft Link）

#### 定义
软连接是一个指向另一个文件或目录的路径。它类似于一个快捷方式，但它是由文件系统实现的，并且在很多操作系统中被视为实际文件。

#### 特点
1. **独立存在**：软连接是一个独立的文件，包含指向目标文件或目录的路径。
2. **跨文件系统**：软连接可以跨文件系统或分区创建。
3. **目标变化**：如果软连接的目标被删除或移动，软连接会变成“悬空链接”（dangling link），指向一个不存在的路径。
4. **符号化**：软连接可以指向文件或目录。

#### 创建方法
在Windows中可以使用`mklink`命令来创建软连接。
```cmd
mklink <link> <target>
mklink /D <link> <target>   # 创建指向目录的软连接
```

### 快捷方式（Shortcut）

#### 定义
快捷方式是Windows操作系统中特有的一种链接方式，通常用于快速访问某个文件、目录、程序或位置。它们本质上是一个包含目标路径和其他元数据的文件。

#### 特点
1. **用户层实现**：快捷方式是一个普通的文件（通常扩展名为`.lnk`），由Windows Shell处理。
2. **独立文件**：快捷方式文件包含目标的路径和一些额外信息，如图标、启动参数等。
3. **跨文件系统**：快捷方式可以指向任何位置的文件或目录。
4. **图形化**：快捷方式主要通过图形用户界面（GUI）创建和使用，且可以在资源管理器中看到其图标。

#### 创建方法
1. **右键创建**：通过右键单击文件或目录，然后选择“创建快捷方式”。
2. **拖放创建**：按住Alt键拖动文件或目录到目标位置，释放鼠标创建快捷方式。

### 比较总结

| 属性          | 硬链接（Hard Link）                  | 软连接（Soft Link）                         | 快捷方式（Shortcut）                       |
| ------------- | ------------------------------------ | ------------------------------------------- | ------------------------------------------ |
| 创建层次      | 文件系统级                           | 文件系统级                                  | 用户层（Windows Shell）                    |
| 目标类型      | 仅文件                               | 文件或目录                                  | 文件、目录、程序                           |
| 删除影响      | 删除一个链接不影响数据，所有链接删除后数据才删除 | 删除目标后链接变成悬空链接                   | 删除目标后快捷方式失效                      |
| 跨文件系统    | 否                                    | 是                                          | 是                                         |
| 系统依赖性    | 跨平台支持                           | 跨平台支持                                  | Windows特有                                 |
| 创建工具      | `fsutil hardlink create`             | `mklink`                                    | 通过GUI或右键菜单创建                      |

这三种链接方式各有优缺点，选择哪种方式取决于具体的使用需求和场景。例如，硬链接适合在同一文件系统内共享数据，软连接适合需要跨文件系统或目录的灵活链接，而快捷方式则方便用户快速访问常用文件和应用程序。